This code has been copied from https://github.com/andy-uq/nSnappy

It has been slightly modified:
* Pointer, HashTable converted to struct,
* using MemoryPool for array allocation
* Changed Decompressor to reduce memory copying and array allocation